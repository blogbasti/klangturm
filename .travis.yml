language: ruby
rvm:
  - 2.6
sudo: false # route your build to the container-based infrastructure for a faster build
before_install:
 - export NOKOGIRI_USE_SYSTEM_LIBRARIES=true
addons:
  apt:
    packages:
    - libcurl4-openssl-dev # required to avoid SSL errors

script:
  - bundle exec jekyll build
  - bundle exec htmlproofer --assume-extension ./_site

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  keep_history: true
  on:
    branch: main
